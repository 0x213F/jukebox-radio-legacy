{% extends "base.html" %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'css/proj/list_streams.css' %}">
<link rel="stylesheet" href="{% static 'css/proj/play_bar.css' %}">
<link rel="stylesheet" href="{% static 'css/proj/home.css' %}">
{% endblock %}

{% block main %}

<div class="main center-horizontal card">

  <div class="card-body">

    <!-- - - - - - - - --->
    <!--  CREATE STREAM -->
    {% if user_is_active %}
    <div id="create-stream-button">
      <form class="ajax-form" redirect="/createstream">
        <button class="btn btn-lg" style="width: 100%;">
          Create Stream
        </button>
      </form>
    </div>
    {% endif %}

    <!-- - - - - - - - - - - - - --->
    <!--  COMPLETE ACCOUNT SIGNUP -->
    {% if not user_is_active %}
    <div id="create-stream-button" class="card-body" style="cursor: not-allowed;">
      <form>
        <button class="btn btn-lg" style="width: 100%;" disabled>
          Create Stream
        </button>
      </form>
    </div>

    <div id="create-user-account" class="card-body">
      <form class="ajax-form" redirect="/signup">
        <button class="btn btn-primary btn-lg" style="width: 100%;">
          Create Account
        </button>
      </form>
    </div>
    {% endif %}

    <!-- - - - - - - - - - - - -->
    <!--  BROADCASTING STREAMS -->
    <div id="broadcasting-and-create-stream" class="card-header hidden">
      <div class="card-title h5" style="margin: 16px; margin-top: 0px; line-height: 40px; height: 40px; display: inline-block; color: #727e96;">Broadcasting</div>

      <div id="create-stream-button" style="float: right; margin-top: 0px; margin-bottom: 16px;">
        <form class="ajax-form" redirect="/createstream">
          <button class="btn btn-lg btn-icon">
            <i class="icon icon-2x icon-plus"></i>
          </button>
        </form>
      </div>
    </div>

    <form class="ajax-form hidden"
          type="get"
          url="../api/music/list_broadcasting_streams/"
          submit="onload"
          onsuccess='display_broadcasting_streams'>
    </form>

    <div class="broadcasting-streams hidden"></div>

    <!-- - - - - - - - - --->
    <!--  TUNE IN STREAMS -->
    <div class="card-header">
      <div class="card-title h5" style="margin: 16px; margin-top: 32px; color: #727e96;">Tune In</div>
    </div>

    <form class="ajax-form hidden"
          type="get"
          url="../api/music/list_streams/"
          submit="onload"
          onsuccess='display_tune_in_streams'>
    </form>

    <div class="tune-in-streams hidden"></div>

    <!-- - - - --->
    <!-- FOOTER -->
    <div class='card-footer'>

      {% if user_is_active %}
      <form class="ajax-form" redirect="/account">
        <button class="btn btn-link btn-lg" style="margin-right: 1rem; float: left; margin-left: 35px;">
          Account
        </button>
      </form>
      {% endif %}

      <form class="ajax-form" url="../api/user/logout/" type="post" redirect="/">
        <button class="btn btn-link btn-lg" style="margin-left: 1rem;">
          Logout
        </button>
      </form>
    </div>

  </div>

</div>

{% endblock %}

{% block scripts %}
<script src="{% static '/js/proj/play_bar.js' %}"></script>
<script src="{% static '/js/proj/home.js' %}"></script>
{% endblock %}
