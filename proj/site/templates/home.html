{% extends "base.html" %}

{% load static %}

{% block basestyles %}
<link rel="stylesheet" href="../static/css/spectre/spectre.min.css">
<link rel="stylesheet" href="../static/css/spectre/spectre-icons.min.css">
<link rel="stylesheet" href="../static/css/proj/base.css">
<link rel="stylesheet" href="../static/css/proj/detail_showing.css">
<link rel="stylesheet" href="../static/css/proj/playback.css">
<link rel="stylesheet" href="../static/css/proj/chat.css">
{% endblock %}

{% block main %}

<div class="modal" id="account-modal">
  <a id="model-close" class="modal-overlay" aria-label="Close"></a>
  <div class="modal-container">

    <!-- <div class='wrapper'>
      <button class="footer-button cancel">
        Cancel
      </button>
    </div>

    <div class="footer-delimeter" style='width: calc(100% - 28px); margin-left: 14px;'></div> -->
    <div class='wrapper'>
      <button class="footer-button cancel-profile">
        Cancel
      </button>
    </div>
    <div class="footer-delimeter" style="width: calc(100% - 28px); margin-left: 14px;"></div>
    <div style="height:8px; width: 100%"></div>
    <p class="form-input-hint" style="max-width: 244px; margin-left: 14px;margin-right: 14px;">Your account information that is accessible by...</p>
    <ul class="tab tab-block" style="margin-left: 14px; margin-right: 14px;">
      <li class="tab-item tab-anyone active"><a href="javascript:void(0);">Anyone</a></li>
      <li class="tab-item tab-you"><a href="javascript:void(0);">Friends</a></li>
    </ul>

    <div style="margin: 14px;">

      <form id="update-account" class="submit-form" url="../api/user/update/" type="post" onsuccess='hide_modal'>

        {% csrf_token %}

        <div class="content-anyone">
          <div class="form-group">
            <label class="form-label">Display Name</label>
            <input class="form-input update_display_name" type="text" name="display_name" placeholder="">
          </div>
          <label class="form-checkbox" style='max-width: 216px; padding-right: 0px;'>
            <input class='null-display-name' type="checkbox"><i class="form-icon"></i> Automatically randomize display name every showing.
          </label>
          <div style="height:94px; width: 12px"></div>
        </div>

        <div class="content-you" style="display: none;">
          <div class="form-group">
            <label class="form-label">First Name</label>
            <input class="form-input update_first_name" type="text" name="first_name" placeholder="">
          </div>
          <div class="form-group">
            <label class="form-label">Last Name</label>
            <input class="form-input update_last_name" type="text" name="last_name" placeholder="">
          </div>
          <div class="form-group">
            <label class="form-label">Email</label>
            <input class="form-input update_email" type="email" name="email" placeholder="">
          </div>
        </div>

        <div class="form-group" style="margin-top: 23px; margin-bottom: 20px; margin-right: 15px;">
          <button type="submit" form="update-account" class="btn btn-primary" style='float:right;'>Update</button>
        </div>
        <div style="height:44px; width: 100%; display: block"></div>
      </form>

    </div>
  </div>
</div>

<div class="card-body">

  <!-- - - - - - --->
  <!--  LOAD PAGE -->
  <form id="list-showings" class="submit-form" url="../api/music/list_showings/" type="get" submit="onload" onsuccess='display_list_showings' style="display: none;">

    {% csrf_token %}

  </form>

  <!-- - - - - - - - - --->
  <!--  CURRENT SHOWING -->
  <div id='current-showing' style='display: none;'>
    <div class='wrapper'>
      <button class="footer-button leave leave-button">
        Leave
      </button>
    </div>
    <div class="footer-delimeter"></div>

    <div class='main'>

      <div class="column col-12">
        <div class="panel">
          <div class="panel-header playback">
            <div class="circle-button play-pause play"></div>
            <div class="circle-button skip-forward"></div>
            <progress class="progress track-status" value="25" max="100"></progress>
          </div>
          <div class="panel-body main-chat" style='max-height: 400px;-ms-overflow-style: none; scrollbar-width: none;'>
            <div class="tile seen"
                 style="display: none;"
                 author="system"
                 status="base"
                 timestamp="-Infinity">
            </div>

          </div>
          <div class="panel-footer">
            <div class="input-group">
              <div class='dot-container low'>

              </div>
              <div class='dot-container mid_low'>

              </div>
              <div class='dot-container mid_high'>

              </div>
              <div class='dot-container high'>

              </div>
            </div>
            <div class='input-group'>
              <div class="statuses" style="display: none;">
                <button class='btn low'>
                  <img src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/214/white-frowning-face_2639.png">
                </button>
                <button class='btn mid_low'>
                  <img src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/214/confused-face_1f615.png">
                </button>
                <button class='btn mid_high'>
                  <img src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/214/slightly-smiling-face_1f642.png">
                </button>
                <button class='btn high'>
                  <img src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/twitter/214/grinning-face_1f600.png">
                </button>
              </div>
              <div class="waiting" style='display: none;'>
                <span class="label label-rounded label-primary showname waiting-countdown"></span><br>
              </div> <!--
              <div class="complete">

              </div> -->
            </div>
            <div class="input-group">
              <input id='chat-input' class="form-input" type="text">
              <button id='chat-submit' class="btn btn-primary input-group-btn">Send</button>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>

  <!-- - - - - - - - - - -->
  <!--  DISPLAY SHOWINGS -->
  <div id='display-scheduled-showings' style='display: none;'>
    <div class="form-group showings">

    </div>
  </div>

  <div id='account'>
    <div class="footer-delimeter"></div>
    <div class='wrapper'>
      <button class="footer-button account-button">
        Account
      </button>
    </div>
  </div>

  <!-- - - - - - -->
  <!--  ACCOUNT  -->
  <form id="logout" class="submit-form" url="../api/user/logout/" type="post" redirect="/">

    {% csrf_token %}

    <div class='wrapper'>
      <button class="footer-button">
        Logout
      </button>
    </div>

  </form>

</div>
{% endblock %}


{% block basescripts %}
<!-- <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script> -->
<script src="{% static '/js/jquery.js' %}"></script>
<script src="{% static '/js/proj/chat.js' %}"></script>
<script src="{% static '/js/proj/templates.js' %}"></script>
<script src="{% static '/js/proj/detail_showing.js' %}"></script>
<script src="{% static '/js/proj/list_showings.js' %}"></script>
<script src="{% static '/js/proj/account.js' %}"></script>
<script src="{% static '/js/proj/main.js' %}"></script>
<script src="{% static '/js/chess/chess.min.js' %}"></script>
{% endblock %}
