{% extends "base.html" %}

{% load static %}

{% block basestyles %}
<link href="https://fonts.googleapis.com/css?family=Major+Mono+Display|Work+Sans:300,400,700,900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../static/css/proj/base.css">

<link rel="stylesheet" href="{% static '../static/css/spectre/spectre.min.css' %}">
<link rel="stylesheet" href="{% static '../static/css/spectre/spectre-icons.min.css' %}">

<script src="{% static '/js/jquery.js' %}"></script>
{% endblock %}

{% block main %}

<div id="csrf-token" class="hidden">
  {% csrf_token %}
</div>

<script>

var CSRF_TOKEN = $('#csrf-token').children().first().val();

</script>

<div class="main center-horizontal card">

  <div class="card-body">

    <div class="form-group card-body">
      <form class="ajax-form" redirect="/">
        <button class="btn btn-primary" style="float: left;">
          <i class="icon icon-2x icon-back"></i>
        </button>
      </form>

      <form class="ajax-form" redirect="/linkspotify">
        <button class="btn btn-secondary" style="margin-left: 1.5rem;">
          Link Spotify
        </button>
      </form>
    </div>

    <form id="update-account" class="ajax-form card-body" url="../api/user/update/" type="post" redirect="/">

      {% csrf_token %}

      <div class="form-group" style="margin-bottom: 16px;">
        <label class="form-label" for="last-name-account">Display Name</label>
        <input class="form-input" id="last-name-account" type="text" name="display_name" value="{{ default_display_name }}">
      </div>

      <div class="form-group">
        <div class="divider"></div>
      </div>

      <div class="form-group">
        <label class="form-label" for="update-account-email">Email</label>
        <input class="form-input" id="update-account-email" type="email" name="email" value="{{ user.email }}" disabled>
      </div>

      <div class="form-group">
        <label class="form-label" for="update-account-first-name">First Name</label>
        <input class="form-input" id="update-account-first-name" type="text" name="first_name" value="{{ user.first_name }}">
      </div>

      <div class="form-group">
        <label class="form-label" for="update-account-last-name">Last Name</label>
        <input class="form-input" id="update-account-last-name" type="text" name="last_name" value="{{ user.last_name }}">
      </div>


      <div class="form-group">
        <button type="submit" form="update-account" class="btn btn-secondary">Update</button>
        <span class="text-info ajax-form-error" style="margin-left: 1.4em; color: red"><span>
      </div>

    </form>

  </div>

</div>

</div>
{% endblock %}


{% block basescripts %}
<!-- <script src="https://twemoji.maxcdn.com/v/latest/twemoji.min.js" crossorigin="anonymous"></script> -->
<script src="{% static '/js/proj/chat.js' %}"></script>
<script src="{% static '/js/proj/templates.js' %}"></script>
<script src="{% static '/js/proj/detail_stream.js' %}"></script>
<script src="{% static '/js/proj/list_streams.js' %}"></script>
<script src="{% static '/js/proj/modal.js' %}"></script>
<script src="{% static '/js/proj/main.js' %}"></script>
<script src="{% static '/js/chess/chess.min.js' %}"></script>
{% endblock %}
